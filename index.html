<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curise Booking</title>
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;500;700&display=swap"
        rel="stylesheet">
    <!-- Stylesheet -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!--Header and Menu Section-->
    <header class="container">
        <nav>
            <ul>
                <li><a href="#">Home</a></li>
                <li><a href="#">About Us</a></li>
                <li><a href="#">Contact</a></li>
                <li><a class="active" href="#">Sign Up</a></li>
            </ul>
        </nav>
    </header>

    <!--Booking Section-->
    <main class="main-content container">

        <div class="booking-content">
            <h1>Cruise Queen</h1>
            <p>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the
                industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and
                scrambled it to make a type specimen book./p>
        </div>


        <div class="booking-form">
            <h3>Book Ocean Time</h3>
            <div class="input-group">
                <label for="">Flying From</label>
                <input class="inp-style" type="text" name="" placeholder="Dhake, Bangladesh">
            </div>
            <div class="input-group">
                <label for="">Flying To</label>
                <input class="inp-style" type="text" name="" placeholder="New York, United States">
            </div>
            <div class="inputs">
                <div class="input-group">
                    <label" for="">Departure</label>
                        <input class="inp-style" type="date" name="">
                </div>
                <div class="input-group">
                    <label for="">Return</label>
                    <input class="inp-style" type="date" name="">
                </div>
            </div>
            <div class="input-group f-class">
                <div>
                    <label for="">First Class ($<span id="firstClass-price">150</span>)</label>
                    <input class="inp-style inp-width" disabled value="0" id="firstClass-quatity" type="number" name="">
                </div>
                <div class="plus-minus-btn">
                    <p>
                        <span id="firstClass-increase" onclick="handleClass('first', true)">+</span>
                        <span id="firstClass-decrease" onclick="handleClass('first', false)">-</span>
                    </p>
                </div>
            </div>

            <div class="input-group f-class">
                <div>
                    <label for="">Economy ($<span id="economyClass-price">100</span>)</label>
                    <input class="inp-style inp-width" disabled value="0" id="economyClass-quatity" type="number"
                        name="">
                </div>
                <div class="plus-minus-btn">
                    <p>
                        <span id="economyClass-increase" onclick="handleClass('economy', true)">+</span>
                        <span id="economyClass-decrease" onclick="handleClass('economy', false)">-</span>
                    </p>
                </div>
            </div>
            <div class="calculations">
                <div class="amount">
                    <div class="left">
                        <p>Subtotal</p>
                    </div>
                    <div class="right">
                        <p>$<span id="subtotal">0</span></p>
                    </div>
                </div>

                <div class="amount">
                    <div class="left">
                        <p>Charge 10% VAT</p>
                    </div>
                    <div class="right">
                        <p>$<span id="tax">0</span></p>
                    </div>
                </div>
                <hr>
                <div class="amount">
                    <div class="left">
                        <h4>Total</h4>
                    </div>
                    <div class="right">
                        <p>$<span id="grand-total">0</span></p>
                    </div>
                </div>
            </div>
            <button type="button" class="btn-style" onclick="showInvoiceToUser()" data-bs-toggle="modal"
                data-bs-target="#exampleModal">
                Book Now
            </button>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">Invoice</h5>
                        <button type="button" onclick="clearAllValue()" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <h4 class="alert alert-success">Your booking has been successfull</h4>
                        <!-- Invoice -->
                        <div class="card-body">
                            <div>
                                <table>
                                    <thead>
                                        <tr>
                                            <th class="center">#</th>
                                            <th>Name</th>
                                            <th>Seat(s)</th>
                                            <th class="right">Total</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="center">1</td>
                                            <td class="left strong">First class <strong>($150)</strong></td>
                                            <td class="left"><span id="invoice-firstClass-quantity">0</span></td>
                                            <td class="right">$<span id="invoice-firstClass-price">0</span></td>
                                        </tr>
                                        <tr>
                                            <td class="center">2</td>
                                            <td class="left">Economy class <strong>($100)</strong></td>
                                            <td class="left"><span id="invoice-economyClass-quantity">0</span></td>
                                            <td class="right">$<span id="invoice-economyClass-price">0</span></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class='summary'>
                                <table>
                                    <tbody>
                                        <tr>
                                            <td class="left">
                                                <strong>Subtotal</strong>
                                            </td>
                                            <td class="right invoice-right">$<span id="invoice-subtotal">0</span></td>
                                        </tr>
                                        <tr>
                                            <td class="left">
                                                <strong>TAX (10%)</strong>
                                            </td>
                                            <td class="right invoice-right">$<span id="invoice-tax">0</span></td>
                                        </tr>
                                        <tr>
                                            <td class="left">
                                                <strong>Grand Total</strong>
                                            </td>
                                            <td class="right invoice-right">
                                                <strong>$<span id="invoice-grand-total">0</span></strong>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" onclick="clearAllValue()" class="btn btn-secondary"
                            data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <script>

        // get price over quantity with prefix of Id
        function getPriceOverQuantity(idPrefix) {
            const quantity = getInputValue(idPrefix + "Class-quatity");
            const price = getInnerTextValue(idPrefix + "Class-price");
            return total = quantity * price;
        }

        // Get Input Value by id
        function getInputValue(id) {
            const getClass = document.getElementById(id);
            return parseInt(getClass.value);
        }

        // Get InnerText by id
        function getInnerTextValue(id) {
            const getPrice = document.getElementById(id);
            return parseInt(getPrice.innerText);
        }

        // display value to user by id
        function displayValueToUser(id, value) {
            const searchId = document.getElementById(id);
            searchId.innerText = value;
        }

        // Increament or decreament and calculate total, tax, grand Total
        function handleClass(idPrefix, isIncrease) {
            const inputAmount = getInputValue(idPrefix + "Class-quatity");
            let inputNewCount = 0;
            if (isIncrease) {
                inputNewCount = inputAmount + 1;
            }
            if (isIncrease == false && inputAmount > 0) {
                inputNewCount = inputAmount - 1;
            }
            const inputPreviousValue = document.getElementById(idPrefix + "Class-quatity");
            inputPreviousValue.value = inputNewCount;

            // call calculateTotal function to calculate total, tax, grand Total
            calculateAndDisplayTotal();
        }

        // calculate two number by either adding or multiply. if true add or multiply
        function handleAllCalcuation(firstPrice, secondPrice, isAdding) {
            let total = 0;
            if (isAdding) {
                total = firstPrice + secondPrice;
            } else {
                total = firstPrice * secondPrice;
            }
            return total;
        }

        // calculate total, tax and grandtotal and display to user
        function calculateAndDisplayTotal() {
            const firstClassTotal = getPriceOverQuantity("first");
            const economyClassTotal = getPriceOverQuantity("economy");

            // calculate total and display
            const subTotalPrice = handleAllCalcuation(firstClassTotal, economyClassTotal, true);
            displayValueToUser("subtotal", subTotalPrice);

            // calculate tax and display
            const taxTotal = handleAllCalcuation(subTotalPrice, 0.1, false);
            displayValueToUser("tax", taxTotal);

            // calculate grandTotal and display
            const grandTotal = handleAllCalcuation(subTotalPrice, taxTotal, true);
            displayValueToUser("grand-total", grandTotal);
        }

        // View invoice to user
        function showInvoiceToUser() {
            const firstClassTotalQuantity = getInputValue("firstClass-quatity");
            const economyClassTotalQuantity = getInputValue("economyClass-quatity");
            const firstClassTotalPrice = getPriceOverQuantity("first");
            const economyClassTotalPrice = getPriceOverQuantity("economy");

            displayValueToUser("invoice-firstClass-quantity", firstClassTotalQuantity);
            displayValueToUser("invoice-economyClass-quantity", economyClassTotalQuantity);
            displayValueToUser("invoice-firstClass-price", firstClassTotalPrice);
            displayValueToUser("invoice-economyClass-price", economyClassTotalPrice);

            const invoiceSubTotalPrice = handleAllCalcuation(firstClassTotalPrice, economyClassTotalPrice, true);
            const invoiceTaxTotal = parseInt(handleAllCalcuation(invoiceSubTotalPrice, 0.1, false));
            const invoiceGrandTotal = handleAllCalcuation(invoiceSubTotalPrice, invoiceTaxTotal, true);

            displayValueToUser("invoice-subtotal", invoiceSubTotalPrice);
            displayValueToUser("invoice-tax", invoiceTaxTotal);
            displayValueToUser("invoice-grand-total", invoiceGrandTotal);
        }

        // Clear all previously selected Value
        function clearAllValue() {
            disPlayInputValueToUser("firstClass-quatity", 0);
            disPlayInputValueToUser("economyClass-quatity", 0);
        }

        // Set input tag value By Id
        function disPlayInputValueToUser(id, setValue) {
            const inputId = document.getElementById(id);
            inputId.value = setValue;
            displayValueToUser("subtotal", 0);
            displayValueToUser("tax", 0);
            displayValueToUser("grand-total", 0);
        }


    </script>
    <!--Thank You-->
</body>

</html>